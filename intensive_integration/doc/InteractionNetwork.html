<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: InteractionNetwork
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "InteractionNetwork";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (I)</a> &raquo;
    
    
    <span class="title">InteractionNetwork</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: InteractionNetwork
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">InteractionNetwork</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>InteractionNetwork.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<h2 id="label-InteractionNetwork">InteractionNetwork</h2>

<p>This is a representation of a gene interaction network.</p>

<h2 id="label-Summary">Summary</h2>

<p>InteractionNetwork class allows us to identify interactions within an input gene list from the IntAct database. We can also generate interaction networks connecting previously identified interactors with a defined maximum network depth (default = 3 nodes).</p>

<p>The initialize method takes two arguments, depth and gene_list, and sets default values for these arguments if they are not provided when the object is created. The method then calls the find_first_interactors method on the gene_list argument,  passing in a value of 1 for the second argument. This is followed by a loop that calls the find_first_interactors method again, but this time with the @@multi_gene_list array  and the current loop iteration as arguments.</p>

<p>Next, the code iterates over the @@full_interactions array and adds each edge to the  @@full_network object, setting the edge weight to 1. It then creates an array of connected components in the network, and loops over these components to find any that contain the seed genes. For each component that contains seed genes, the code uses the combination method  to find all possible pairs of genes, and then uses the dijkstra_shortest_path method  to find the shortest path between these pairs. If the length of the path is less than or equal  to 4, the path is added to the @@significant_paths hash with the gene pair as the key and the  path as the value.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="full_network-classvariable" class="">@@full_network =
          <div class="docstring">
  <div class="discussion">
    
<p>All interaction networks instances generated, representing the full known network.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>RGL</span><span class='op'>::</span><span class='const'>AdjacencyGraph</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre></dd>
      
        <dt id="edge_weights-classvariable" class="">@@edge_weights =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='rbrace'>}</span></pre></dd>
      
        <dt id="significant_paths-classvariable" class="">@@significant_paths =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='rbrace'>}</span></pre></dd>
      
        <dt id="full_interactions-classvariable" class="">@@full_interactions =
          <div class="docstring">
  <div class="discussion">
    
<p>All interactions, dertivitave of full_network for ease</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="multi_gene_list-classvariable" class="">@@multi_gene_list =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='int'>1</span><span class='op'>=&gt;</span> <span class='const'>Set</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='int'>2</span> <span class='op'>=&gt;</span> <span class='const'>Set</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='int'>3</span> <span class='op'>=&gt;</span> <span class='const'>Set</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='int'>4</span> <span class='op'>=&gt;</span> <span class='const'>Set</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='int'>5</span> <span class='op'>=&gt;</span> <span class='const'>Set</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="number_significant_components-classvariable" class="">@@number_significant_components =
          
        </dt>
        <dd><pre class="code"><span class='int'>0</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#gene_list-instance_method" title="#gene_list (instance method)">#<strong>gene_list</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the list of genes involved in the interaction network.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#full_interactions-class_method" title="full_interactions (class method)">.<strong>full_interactions</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#full_network-class_method" title="full_network (class method)">.<strong>full_network</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#multi_gene_list-class_method" title="multi_gene_list (class method)">.<strong>multi_gene_list</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#number_significant_components-class_method" title="number_significant_components (class method)">.<strong>number_significant_components</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#significant_paths-class_method" title="significant_paths (class method)">.<strong>significant_paths</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_first_interactors-instance_method" title="#find_first_interactors (instance method)">#<strong>find_first_interactors</strong>(gene_list, current_degree)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method searches for first degree interactions between genes in a given list and adding them to a list of interactions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_interactions-instance_method" title="#find_interactions (instance method)">#<strong>find_interactions</strong>(gene_id = @gene_id)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Find gene-gene interactions from a particular gene_id, which is assigned the value of the instance variable @gene_id by default.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(depth = 3, gene_list = nil)  &#x21d2; InteractionNetwork </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new InteractionNetwork instance.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(depth = 3, gene_list = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="InteractionNetwork (class)">InteractionNetwork</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new InteractionNetwork instance. Takes as input a list of gene ID&#39;s and creates a RGL adjacency network with uniform (1) edge weights.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>depth</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>3</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the maximum depth of the network. Consecutive neighboring nodes to be analysed.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>gene_list</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>an input array of genes</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 72</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_depth'>depth</span><span class='op'>=</span><span class='int'>3</span><span class='comma'>,</span> <span class='id identifier rubyid_gene_list'>gene_list</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>    

    <span class='comment'>#First degree
</span>    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_first_interactors'>find_first_interactors</span><span class='lparen'>(</span><span class='id identifier rubyid_gene_list'>gene_list</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
    
    <span class='comment'>#2nd + degree
</span>    <span class='lparen'>(</span><span class='int'>2</span><span class='op'>..</span><span class='id identifier rubyid_depth'>depth</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_first_interactors'>find_first_interactors</span><span class='lparen'>(</span><span class='cvar'>@@multi_gene_list</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='cvar'>@@full_interactions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
        <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_edge'>edge</span><span class='op'>|</span>
            <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_edge'>edge</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;-&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='cvar'>@@full_network</span><span class='period'>.</span><span class='id identifier rubyid_add_edge'>add_edge</span><span class='lparen'>(</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>
            <span class='cvar'>@@edge_weights</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>1</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    
    <span class='id identifier rubyid_seed_genes'>seed_genes</span> <span class='op'>=</span> <span class='cvar'>@@multi_gene_list</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
    
    <span class='id identifier rubyid_connected_components'>connected_components</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

    <span class='cvar'>@@full_network</span><span class='period'>.</span><span class='id identifier rubyid_to_undirected'>to_undirected</span><span class='period'>.</span><span class='id identifier rubyid_each_connected_component'>each_connected_component</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_connected_components'>connected_components</span> <span class='op'>&lt;&lt;</span>  <span class='id identifier rubyid_c'>c</span> <span class='rbrace'>}</span>
    
    <span class='id identifier rubyid_connected_components'>connected_components</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_component'>component</span><span class='op'>|</span>
        <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_component'>component</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_seed_genes'>seed_genes</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
            <span class='cvar'>@@number_significant_components</span> <span class='op'>+=</span> <span class='int'>1</span>
            <span class='id identifier rubyid_hits'>hits</span> <span class='op'>=</span> <span class='id identifier rubyid_component'>component</span> <span class='op'>&amp;</span> <span class='id identifier rubyid_seed_genes'>seed_genes</span>
            <span class='id identifier rubyid_hits'>hits</span><span class='period'>.</span><span class='id identifier rubyid_combination'>combination</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_hit'>hit</span><span class='op'>|</span>
                <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span>  <span class='id identifier rubyid_hit'>hit</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='int'>1</span><span class='rbracket'>]</span>
                <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='cvar'>@@full_network</span><span class='period'>.</span><span class='id identifier rubyid_dijkstra_shortest_path'>dijkstra_shortest_path</span><span class='lparen'>(</span><span class='cvar'>@@edge_weights</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span><span class='op'>=</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='op'>=</span><span class='id identifier rubyid_target'>target</span><span class='rparen'>)</span>
                
                <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&lt;=</span> <span class='int'>4</span>
                    <span class='cvar'>@@significant_paths</span><span class='lbracket'>[</span><span class='lbracket'>[</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;-&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                    

                <span class='kw'>end</span>
            <span class='kw'>end</span>
        <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_puts'>puts</span>  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='cvar'>@@number_significant_components</span><span class='embexpr_end'>}</span><span class='tstring_content'> significant components</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="gene_list=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="gene_list-instance_method">
  
    #<strong>gene_list</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the list of genes involved in the interaction network.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array of genes analysed</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 51</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gene_list'>gene_list</span>
  <span class='ivar'>@gene_list</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="full_interactions-class_method">
  
    .<strong>full_interactions</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 224</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_full_interactions'>full_interactions</span>
    <span class='cvar'>@@full_interactions</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="full_network-class_method">
  
    .<strong>full_network</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 228</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_full_network'>full_network</span>
    <span class='cvar'>@@full_network</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="multi_gene_list-class_method">
  
    .<strong>multi_gene_list</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 232</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_multi_gene_list'>multi_gene_list</span>
    <span class='cvar'>@@multi_gene_list</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="number_significant_components-class_method">
  
    .<strong>number_significant_components</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 240</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_number_significant_components'>number_significant_components</span>
    <span class='cvar'>@@number_significant_components</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="significant_paths-class_method">
  
    .<strong>significant_paths</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 236</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_significant_paths'>significant_paths</span>
    <span class='cvar'>@@significant_paths</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="find_first_interactors-instance_method">
  
    #<strong>find_first_interactors</strong>(gene_list, current_degree)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>This method searches for first degree interactions between genes in a given list and adding them to a list of interactions. The method takes two arguments: a list of genes (gene_list) and a current degree (current_degree). It initializes an empty list called “first_degree_hits” and calculates the length of the gene list. It then prints a string that includes the current degree  and the length of the search.</p>

<p>The code then iterates through the gene list and adds each gene to the  “@@multi_gene_list” at the current degree. It then searches for interactions with the first gene in the list and appends any hits to the “@@full_interactions” list. If there are any hits, it adds the target of the edge to the “@@multi_gene_list” at the next degree.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>gene_list</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an input array of genes</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>current_degree</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the current depth at which the interactors are being indentified.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_first_interactors'>find_first_interactors</span><span class='lparen'>(</span><span class='id identifier rubyid_gene_list'>gene_list</span><span class='comma'>,</span> <span class='id identifier rubyid_current_degree'>current_degree</span><span class='rparen'>)</span>
            
    <span class='id identifier rubyid_first_degree_hits'>first_degree_hits</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_length_search'>length_search</span> <span class='op'>=</span> <span class='id identifier rubyid_gene_list'>gene_list</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Searching </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_current_degree'>current_degree</span><span class='embexpr_end'>}</span><span class='tstring_content'> degree neighbors.... O(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_length_search'>length_search</span><span class='embexpr_end'>}</span><span class='tstring_content'>^2)</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_gene_list'>gene_list</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
        <span class='cvar'>@@multi_gene_list</span><span class='lbracket'>[</span><span class='id identifier rubyid_current_degree'>current_degree</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_query_hits'>query_hits</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find_interactions'>find_interactions</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>unless</span> <span class='id identifier rubyid_query_hits'>query_hits</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
            <span class='cvar'>@@full_interactions</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='id identifier rubyid_query_hits'>query_hits</span><span class='rparen'>)</span>

        <span class='kw'>end</span>

        <span class='id identifier rubyid_query_hits'>query_hits</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_edge'>edge</span><span class='op'>|</span>
            <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_edge'>edge</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&lt;-&gt;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='cvar'>@@multi_gene_list</span><span class='lbracket'>[</span><span class='id identifier rubyid_current_degree'>current_degree</span><span class='op'>+</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_target'>target</span><span class='rbracket'>]</span><span class='rparen'>)</span>
            
        <span class='kw'>end</span>
    <span class='kw'>end</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_interactions-instance_method">
  
    #<strong>find_interactions</strong>(gene_id = @gene_id)  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Find gene-gene interactions from a particular gene_id, which is assigned the value of the instance variable @gene_id by default. The method first fetches data from EBI url, and then checks if the data is valid. If it is, the data is split into an array of lines and stored in a variable called interaction25 which is a tab25 format.</p>

<p>The code then iterates through each line of interaction25 and splits it into an array of elements, which are then assigned to variables. The method then filters out unwanted interactions based on  certain conditions, such as if the genes are from different organisms or if the interaction is of low quality. If the conditions are met, the method appends the interactions to an array called interactions, and then returns this array at the end of the method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>gene_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>@gene_id</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>a specfific gene ID from ENSEMBL</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>an interaction array containing filtered protein-protein interactions of query gene</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'InteractionNetwork.rb', line 164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_interactions'>find_interactions</span><span class='lparen'>(</span><span class='id identifier rubyid_gene_id'>gene_id</span><span class='op'>=</span><span class='ivar'>@gene_id</span><span class='rparen'>)</span>
    
    <span class='id identifier rubyid_res'>res</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='label'>url:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://www.ebi.ac.uk/Tools/webservices/psicquic/intact/webservices/current/search/interactor/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_gene_id'>gene_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>?format=tab25</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='semicolon'>;</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_res'>res</span> 
        <span class='id identifier rubyid_interaction25'>interaction25</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='lparen'>(</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
        <span class='comment'>#puts interactions[0]
</span>        <span class='id identifier rubyid_interactions'>interactions</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_interaction25'>interaction25</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_interact'>interact</span><span class='op'>|</span>
            
            <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_interact'>interact</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\t</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
            <span class='comment'>#puts line[0].tr(&quot;uniprotkb:&quot;, &#39;&#39;)
</span>            <span class='id identifier rubyid_ens_geneA'>ens_geneA</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\|</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^ensembl</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ensemblplants:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'>#3rd element is geneA, grep the ensemble plant ID
</span>            <span class='id identifier rubyid_ens_geneB'>ens_geneB</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\|</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^ensembl</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ensemblplants:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'>#4rd element is geneA, grep the ensemble plant ID
</span>
            <span class='id identifier rubyid_organismA'>organismA</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='lbracket'>[</span><span class='int'>9</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\|</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^taxid:3702\(arath\)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
            <span class='id identifier rubyid_organismB'>organismB</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='lbracket'>[</span><span class='int'>10</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\|</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^taxid:3702\(arath\)</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
            
            <span class='id identifier rubyid_quality'>quality</span> <span class='op'>=</span> <span class='id identifier rubyid_line'>line</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\|</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^intact-miscore</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>3</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
            <span class='comment'>#puts quality
</span>            
            <span class='id identifier rubyid_ens_geneA'>ens_geneA</span> <span class='op'>=</span> <span class='id identifier rubyid_ens_geneA'>ens_geneA</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
            <span class='id identifier rubyid_ens_geneB'>ens_geneB</span> <span class='op'>=</span> <span class='id identifier rubyid_ens_geneB'>ens_geneB</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

            <span class='comment'>#Throwaway cases
</span>
            <span class='comment'># GeneA is GeneB, end the loop ?
</span>
            <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_ens_geneA'>ens_geneA</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='op'>==</span> <span class='id identifier rubyid_ens_geneB'>ens_geneB</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>

            <span class='comment'>#GeneA and B are from different organisms
</span>            <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_organismA'>organismA</span> <span class='op'>!=</span> <span class='id identifier rubyid_organismB'>organismB</span>

            <span class='comment'>#Interaction is low quality
</span>            <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_quality'>quality</span> <span class='op'>&lt;</span> <span class='float'>0.55</span>
  
            <span class='comment'>#Ens code not found for gene a or b
</span>            <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_ens_geneA'>ens_geneA</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='kw'>or</span> <span class='id identifier rubyid_ens_geneB'>ens_geneB</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

            <span class='comment'># Case 1: Query gene is gene A
</span>            <span class='kw'>if</span> <span class='id identifier rubyid_ens_geneA'>ens_geneA</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='op'>==</span> <span class='id identifier rubyid_gene_id'>gene_id</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>
                <span class='comment'>#puts &quot;Gene A is query&quot;
</span>                <span class='id identifier rubyid_interactions'>interactions</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_ens_geneA'>ens_geneA</span><span class='comma'>,</span> <span class='id identifier rubyid_ens_geneB'>ens_geneB</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;-&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
            <span class='comment'># Case 2: Query gene is gene B
</span>            <span class='kw'>if</span> <span class='id identifier rubyid_ens_geneB'>ens_geneB</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span> <span class='op'>==</span> <span class='id identifier rubyid_gene_id'>gene_id</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span>
                <span class='comment'>#puts &quot;Gene B is query&quot;
</span>                <span class='id identifier rubyid_interactions'>interactions</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_ens_geneB'>ens_geneB</span><span class='comma'>,</span> <span class='id identifier rubyid_ens_geneA'>ens_geneA</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&lt;-&gt;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
            <span class='comment'>#interactions.append([ens_geneA, ens_geneB].join(&#39;,&#39;))
</span>
        <span class='kw'>end</span>

        <span class='comment'>#@@full_interactions.append(interactions)
</span>        <span class='kw'>return</span><span class='lparen'>(</span><span class='id identifier rubyid_interactions'>interactions</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
        <span class='comment'>#puts interactions[0].split(/\t/)
</span>    <span class='comment'>#gene_info[gene_id]  = data[0]
</span>    
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Dec 19 15:07:03 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.0).
</div>

    </div>
  </body>
</html>